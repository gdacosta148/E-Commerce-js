{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\Oddinx\\\\Saved Games\\\\pdf\\\\Javascript\\\\react projects\\\\E-Commerce\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Oddinx\\\\Saved Games\\\\pdf\\\\Javascript\\\\react projects\\\\E-Commerce\\\\client\\\\src\\\\components\\\\Products\\\\Products.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  text-align: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  flex-wrap: wrap;\\n  flex-direction: column;\\n  margin: 2% 5%;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { Query } from 'react-apollo';\nimport SubHeader from '../Header/SubHeader';\nimport ProductItem from './ProductItem';\nimport Filters from './Filters';\nimport { GET_PRODUCTS, GET_LIMIT } from '../../constants';\nvar ProductItemsWrapper = styled.div(_templateObject());\nvar Alert = styled.span(_templateObject2());\n\nvar Products = function Products(_ref) {\n  var history = _ref.history;\n  return React.createElement(React.Fragment, null, history && React.createElement(SubHeader, {\n    title: \"Available products\",\n    goToCart: function goToCart() {\n      return history.push('/cart');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }), React.createElement(Query, {\n    query: GET_LIMIT,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, function (_ref2) {\n    var data = _ref2.data;\n    return React.createElement(React.Fragment, null, React.createElement(Filters, {\n      limit: parseInt(data.limit),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), React.createElement(Query, {\n      query: GET_PRODUCTS,\n      variables: {\n        limit: parseInt(data.limit)\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, function (_ref3) {\n      var loading = _ref3.loading,\n          error = _ref3.error,\n          data = _ref3.data;\n\n      if (loading || error) {\n        return React.createElement(Alert, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, loading ? 'Loading...' : error.message);\n      }\n\n      return React.createElement(ProductItemsWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, data.products && data.products.map(function (product) {\n        return React.createElement(ProductItem, {\n          key: product.id,\n          data: product,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        });\n      }));\n    }));\n  }));\n};\n\nexport default Products;","map":{"version":3,"sources":["C:/Users/Oddinx/Saved Games/pdf/Javascript/react projects/E-Commerce/client/src/components/Products/Products.js"],"names":["React","styled","Query","SubHeader","ProductItem","Filters","GET_PRODUCTS","GET_LIMIT","ProductItemsWrapper","div","Alert","span","Products","history","push","data","parseInt","limit","loading","error","message","products","map","product","id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,YAAT,EAAuBC,SAAvB,QAAwC,iBAAxC;AAEA,IAAMC,mBAAmB,GAAGP,MAAM,CAACQ,GAAV,mBAAzB;AAQA,IAAMC,KAAK,GAAGT,MAAM,CAACU,IAAV,oBAAX;;AAKA,IAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA,MAAGC,OAAH,QAAGA,OAAH;AAAA,SACf,0CACGA,OAAO,IACN,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,oBADR;AAEE,IAAA,QAAQ,EAAE;AAAA,aAAMA,OAAO,CAACC,IAAR,CAAa,OAAb,CAAN;AAAA,KAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAOE,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEP,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG;AAAA,QAAGQ,IAAH,SAAGA,IAAH;AAAA,WACC,0CACE,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAEC,QAAQ,CAACD,IAAI,CAACE,KAAN,CAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,KAAD;AACE,MAAA,KAAK,EAAEX,YADT;AAEE,MAAA,SAAS,EAAE;AAAEW,QAAAA,KAAK,EAAED,QAAQ,CAACD,IAAI,CAACE,KAAN;AAAjB,OAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIG,iBAA8B;AAAA,UAA3BC,OAA2B,SAA3BA,OAA2B;AAAA,UAAlBC,KAAkB,SAAlBA,KAAkB;AAAA,UAAXJ,IAAW,SAAXA,IAAW;;AAC7B,UAAIG,OAAO,IAAIC,KAAf,EAAsB;AACpB,eAAO,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAQD,OAAO,GAAG,YAAH,GAAkBC,KAAK,CAACC,OAAvC,CAAP;AACD;;AACD,aACE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGL,IAAI,CAACM,QAAL,IACCN,IAAI,CAACM,QAAL,CAAcC,GAAd,CAAkB,UAAAC,OAAO;AAAA,eACvB,oBAAC,WAAD;AAAa,UAAA,GAAG,EAAEA,OAAO,CAACC,EAA1B;AAA8B,UAAA,IAAI,EAAED,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADuB;AAAA,OAAzB,CAFJ,CADF;AAQD,KAhBH,CAFF,CADD;AAAA,GADH,CAPF,CADe;AAAA,CAAjB;;AAoCA,eAAeX,QAAf","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { Query } from 'react-apollo';\nimport SubHeader from '../Header/SubHeader';\nimport ProductItem from './ProductItem';\nimport Filters from './Filters';\nimport { GET_PRODUCTS, GET_LIMIT } from '../../constants';\n\nconst ProductItemsWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  flex-direction: column;\n  margin: 2% 5%;\n`;\n\nconst Alert = styled.span`\n  width: 100%;\n  text-align: center;\n`;\n\nconst Products = ({ history }) => (\n  <>\n    {history && (\n      <SubHeader\n        title='Available products'\n        goToCart={() => history.push('/cart')}\n      />\n    )}\n    <Query query={GET_LIMIT}>\n      {({ data }) => (\n        <>\n          <Filters limit={parseInt(data.limit)} />\n          <Query\n            query={GET_PRODUCTS}\n            variables={{ limit: parseInt(data.limit) }}\n          >\n            {({ loading, error, data }) => {\n              if (loading || error) {\n                return <Alert>{loading ? 'Loading...' : error.message}</Alert>;\n              }\n              return (\n                <ProductItemsWrapper>\n                  {data.products &&\n                    data.products.map(product => (\n                      <ProductItem key={product.id} data={product} />\n                    ))}\n                </ProductItemsWrapper>\n              );\n            }}\n          </Query>\n        </>\n      )}\n    </Query>\n  </>\n);\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}