{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Oddinx\\\\Saved Games\\\\pdf\\\\Javascript\\\\react projects\\\\E-Commerce\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Oddinx\\\\Saved Games\\\\pdf\\\\Javascript\\\\react projects\\\\E-Commerce\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Oddinx\\\\Saved Games\\\\pdf\\\\Javascript\\\\react projects\\\\E-Commerce\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Oddinx\\\\Saved Games\\\\pdf\\\\Javascript\\\\react projects\\\\E-Commerce\\\\client\\\\src\\\\components\\\\Checkout\\\\Login.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 18px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-around;\\n  border-radius: 5px;\\n  border: 1px solid #ccc;\\n  background-color: #fff;\\n  font-size: 16px;\\n  margin-bottom: 10px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n  width: 30%;\\n  margin: 2% auto;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useMutation } from 'react-apollo';\nimport Button from '../Button/Button';\nimport { LOGIN_USER } from '../../constants';\nvar LoginWrapper = styled.div(_templateObject());\nvar TextInput = styled.input(_templateObject2());\n\nvar Login = function Login(_ref) {\n  var history = _ref.history;\n\n  var _useMutation = useMutation(LOGIN_USER),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      loginUser = _useMutation2[0];\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      userName = _React$useState2[0],\n      setUserName = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      password = _React$useState4[0],\n      setPassword = _React$useState4[1];\n\n  return React.createElement(LoginWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(TextInput, {\n    onChange: function onChange(e) {\n      return setUserName(e.target.value);\n    },\n    value: userName,\n    placeholder: \"Your username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), React.createElement(TextInput, {\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    value: password,\n    placeholder: \"Your password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(Button, {\n    color: \"royalBlue\",\n    onClick: function _callee() {\n      var _ref2, data;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(loginUser({\n                variables: {\n                  userName: userName,\n                  password: password\n                }\n              }));\n\n            case 2:\n              _ref2 = _context.sent;\n              data = _ref2.data;\n\n              if (!(data.loginUser && data.loginUser.token)) {\n                _context.next = 9;\n                break;\n              }\n\n              sessionStorage.setItem('token', data.loginUser.token);\n              return _context.abrupt(\"return\", history.push('/checkout'));\n\n            case 9:\n              alert('Please provide (valid) authentication details');\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Login\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Oddinx/Saved Games/pdf/Javascript/react projects/E-Commerce/client/src/components/Checkout/Login.js"],"names":["React","styled","useMutation","Button","LOGIN_USER","LoginWrapper","div","TextInput","input","Login","history","loginUser","useState","userName","setUserName","password","setPassword","e","target","value","variables","data","token","sessionStorage","setItem","push","alert"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AAEA,IAAMC,YAAY,GAAGJ,MAAM,CAACK,GAAV,mBAAlB;AAQA,IAAMC,SAAS,GAAGN,MAAM,CAACO,KAAV,oBAAf;;AAYA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAiB;AAAA,MAAdC,OAAc,QAAdA,OAAc;;AAAA,qBACTR,WAAW,CAACE,UAAD,CADF;AAAA;AAAA,MACtBO,SADsB;;AAAA,wBAEGX,KAAK,CAACY,QAAN,CAAe,EAAf,CAFH;AAAA;AAAA,MAEtBC,QAFsB;AAAA,MAEZC,WAFY;;AAAA,yBAGGd,KAAK,CAACY,QAAN,CAAe,EAAf,CAHH;AAAA;AAAA,MAGtBG,QAHsB;AAAA,MAGZC,WAHY;;AAK7B,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AACE,IAAA,QAAQ,EAAE,kBAAAC,CAAC;AAAA,aAAIH,WAAW,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;AAAA,KADb;AAEE,IAAA,KAAK,EAAEN,QAFT;AAGE,IAAA,WAAW,EAAC,eAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAME,oBAAC,SAAD;AACE,IAAA,QAAQ,EAAE,kBAAAI,CAAC;AAAA,aAAID,WAAW,CAACC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;AAAA,KADb;AAEE,IAAA,KAAK,EAAEJ,QAFT;AAGE,IAAA,WAAW,EAAC,eAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAWE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAC,WADR;AAEE,IAAA,OAAO,EAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACgBJ,SAAS,CAAC;AAC/BS,gBAAAA,SAAS,EAAE;AAAEP,kBAAAA,QAAQ,EAARA,QAAF;AAAYE,kBAAAA,QAAQ,EAARA;AAAZ;AADoB,eAAD,CADzB;;AAAA;AAAA;AACCM,cAAAA,IADD,SACCA,IADD;;AAAA,oBAKHA,IAAI,CAACV,SAAL,IAAkBU,IAAI,CAACV,SAAL,CAAeW,KAL9B;AAAA;AAAA;AAAA;;AAMLC,cAAAA,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgCH,IAAI,CAACV,SAAL,CAAeW,KAA/C;AANK,+CAOEZ,OAAO,CAACe,IAAR,CAAa,WAAb,CAPF;;AAAA;AASLC,cAAAA,KAAK,CAAC,+CAAD,CAAL;;AATK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAXF,CADF;AA+BD,CApCD;;AAsCA,eAAejB,KAAf","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { useMutation } from 'react-apollo';\nimport Button from '../Button/Button';\nimport { LOGIN_USER } from '../../constants';\n\nconst LoginWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  width: 30%;\n  margin: 2% auto;\n`;\n\nconst TextInput = styled.input`\n  padding: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n  background-color: #fff;\n  font-size: 16px;\n  margin-bottom: 10px;\n`;\n\nconst Login = ({ history }) => {\n  const [loginUser] = useMutation(LOGIN_USER);\n  const [userName, setUserName] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  return (\n    <LoginWrapper>\n      <TextInput\n        onChange={e => setUserName(e.target.value)}\n        value={userName}\n        placeholder='Your username'\n      />\n      <TextInput\n        onChange={e => setPassword(e.target.value)}\n        value={password}\n        placeholder='Your password'\n      />\n      <Button\n        color='royalBlue'\n        onClick={async () => {\n          const { data } = await loginUser({\n            variables: { userName, password },\n          });\n\n          if (data.loginUser && data.loginUser.token) {\n            sessionStorage.setItem('token', data.loginUser.token);\n            return history.push('/checkout');\n          } else {\n            alert('Please provide (valid) authentication details');\n          }\n        }}\n      >\n        Login\n      </Button>\n    </LoginWrapper>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}